# Day 17: Demo - Using the OCI Vault Service

This demo provides a hands-on walkthrough of creating a Vault, a Master Encryption Key (MEK), and using it to encrypt an Object Storage bucket, often to satisfy a Security Zone policy.

### Demo Goal
To successfully create an Object Storage bucket that is encrypted with a customer-managed key from the OCI Vault service.

### Step 1: Create a Vault
1.  Navigate to **Identity & Security -> Vault**.
2.  Click **Create Vault**.
3.  Provide a **Name** and select a **Compartment**.
4.  Choose the vault type. The demo uses the standard (free) vault, not the Virtual Private Vault (which has an associated cost).

### Step 2: Create a Master Encryption Key (MEK)
1.  Once the vault is created and in the "Active" state, click on it to view its details.
2.  Under "Resources", select **Master Encryption Keys** and click **Create Key**.
3.  Configure the key:
    -   **Name:** A descriptive name for the key.
    -   **Compartment:** The compartment for the key.
    -   **Protection Mode:** Choose between `Software` (key is stored on a server) and `HSM` (key is stored in a Hardware Security Module and never leaves). The demo uses `Software`.
    -   **Algorithm & Length:** Select the desired cryptographic algorithm (e.g., AES) and key length.

### Step 3: Create an IAM Policy for Service-to-Service Access
-   For an OCI service (like Object Storage) to use a key from the Vault service, it needs explicit permission.
-   Navigate to **Identity & Security -> Policies**.
-   Create a policy with a statement that allows the service principal to use keys in the specified compartment.
-   **Example Policy Statement:**
    ```
    Allow service objectstorage-us-ashburn-1 to use keys in compartment sandbox
    ```

### Step 4: Create the Object Storage Bucket with the Customer-Managed Key
1.  Navigate to **Storage -> Object Storage** and click **Create Bucket**.
2.  Select the compartment that is a Security Zone (in this demo, `sandbox`).
3.  In the **Encryption** section, select the option **"Encrypt using customer-managed keys"**.
4.  Use the dropdown menus to select the **Vault** and the **Master Encryption Key** created in the previous steps.
5.  Click **Create**. The bucket is created successfully, as it complies with the Security Zone's policy requiring customer-managed keys.
